(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{qdbj:function(e,t,n){"use strict";n.r(t),n.d(t,"SignInPageModule",function(){return Q});var i=n("ofXK"),o=n("3Pt+"),r=n("tyNb"),b=n("TEn/"),s=n("mrSG"),c=n("Jgta"),a=n("fXoL"),l=n("ej43"),u=n("UbJi"),h=n("I/3d"),m=n("+hHy"),d=n("6NWb");const g=["signIn"];function p(e,t){1&e&&a.Ob(0,"ion-progress-bar",23)}function f(e,t){1&e&&(a.Qb(0,"div",24),a.Qb(1,"p",25),a.tc(2," Invalid mobile number. Please check and try again. "),a.Pb(),a.Pb())}function P(e,t){1&e&&(a.Qb(0,"div",24),a.Qb(1,"p",25),a.tc(2," Sorry! Mobile number is not registered with us. Please Sign Up to create account "),a.Pb(),a.Pb())}let v=(()=>{class e{constructor(e,t,n,i,o,r,b){this.router=e,this.alertController=t,this.formBuilder=n,this.authtenticationService=i,this.fbauth=o,this.fbstore=r,this.appService=b,this.OTP="",this.CountryCode="+91",this.showOTPInput=!1,this.OTPmessage="An OTP is sent to your number. You should receive it in 15 s",this.showProgress=!1,this.invalidMobilenumber=!1,this.mobileNumberNotFound=!1}ngOnInit(){this.signInForm=new o.f({mobileNumber:new o.c("",o.r.required)})}ionViewDidEnter(){return Object(s.b)(this,void 0,void 0,function*(){this.recaptchaVerifier=new c.a.auth.RecaptchaVerifier("sign-in-button",{size:"invisible",callback:e=>{},"expired-callback":()=>{}})})}ionViewDidLoad(){this.recaptchaVerifier=new c.a.auth.RecaptchaVerifier("sign-in-button",{size:"invisible",callback:e=>{},"expired-callback":()=>{}})}signinWithPhoneNumber(e){if(this.showProgress=!0,10===e.mobileNumber.length)return new Promise((t,n)=>{this.mobileNumberNotFound=!1;const i=this.appService.loggedInUser(this.CountryCode+e.mobileNumber);console.log(i),i?this.authtenticationService.signInWithPhoneNumber(this.recaptchaVerifier,this.CountryCode+e.mobileNumber).then(e=>{this.showProgress=!1,this.invalidMobilenumber=!1,this.fbauth.authState.subscribe(n=>{console.log(n),this.mobileNumberNotFound=!1,this.router.navigate(["/verification"]),t(e)})}).catch(e=>{this.showProgress=!1,this.mobileNumberNotFound=!1,this.invalidMobilenumber=!0,n(e)}):(this.mobileNumberNotFound=!0,console.log("Mobile number not found in db"))})}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(r.g),a.Nb(b.a),a.Nb(o.b),a.Nb(l.a),a.Nb(u.a),a.Nb(h.a),a.Nb(m.a))},e.\u0275cmp=a.Hb({type:e,selectors:[["app-signin"]],viewQuery:function(e,t){if(1&e&&a.xc(g,1),2&e){let e;a.lc(e=a.Zb())&&(t.signIn=e.first)}},decls:33,vars:5,consts:[[1,"osahan-header-nav","shadow-sm","p-3","d-flex","align-items-center","bg-purple"],[1,"font-weight-normal","mb-0","text-white"],["routerLink","/get-started",1,"text-purple"],["icon","arrow-left",1,"icofont-rounded-left"],["color","warning","type","indeterminate",4,"ngIf"],["id","content","fullscreen",""],["id","sign-in-button"],[1,"osahan-index","bg-c","align-items-center","justify-content-center","vh-100","index-page","py-5"],[1,"px-3"],[3,"formGroup"],["signIn",""],[1,"form-group","mb-4"],[1,"text-muted","mb-1"],["inputMode","tel","clearInput","true","formControlName","mobileNumber","autofocus","true","maxlength","10","minlength","10","placeholder","Ex: 1234567890",1,"form-control","rc-form-control","it-form-control","mt-4"],["type","submit","slot","end","fill","clear",1,"btn","btn-purple","btn-block","osahanbus-btn","mt-2",3,"disabled","click"],[1,"sign-or","d-flex","align-items-center","justify-content-center","mt-4","mb-2"],[1,"mr-4"],[1,"text-muted","text-center","py-2","m-0"],[1,"ml-4"],[1,"osahan-signin","text-center","text-purple","p-1"],[1,"m-0"],["routerLink","/select-language",1,"text-orange","ml-2"],["class","osahan-signin text-center p-1",4,"ngIf"],["color","warning","type","indeterminate"],[1,"osahan-signin","text-center","p-1"],[1,"m-5","pt-2","text-danger"]],template:function(e,t){1&e&&(a.Qb(0,"ion-header"),a.Qb(1,"div",0),a.Qb(2,"h5",1),a.Qb(3,"a",2),a.Ob(4,"fa-icon",3),a.Pb(),a.Qb(5,"ion-title"),a.tc(6,"Sign In"),a.Pb(),a.Pb(),a.Pb(),a.rc(7,p,1,0,"ion-progress-bar",4),a.Pb(),a.Qb(8,"ion-content",5),a.Ob(9,"div",6),a.Qb(10,"div",7),a.Qb(11,"div",8),a.Qb(12,"form",9,10),a.Qb(14,"ion-list"),a.Qb(15,"div",11),a.Qb(16,"ion-label",12),a.tc(17,"Mobile Number"),a.Pb(),a.Ob(18,"ion-input",13),a.Pb(),a.Pb(),a.Qb(19,"button",14),a.Yb("click",function(){return t.signinWithPhoneNumber(t.signInForm.value)}),a.tc(20," SIGN IN "),a.Pb(),a.Pb(),a.Qb(21,"div",15),a.Ob(22,"hr",16),a.Qb(23,"p",17),a.tc(24,"OR"),a.Pb(),a.Ob(25,"hr",18),a.Pb(),a.Qb(26,"div",19),a.Qb(27,"p",20),a.tc(28," Not a member ? "),a.Qb(29,"a",21),a.tc(30,"Sign Up"),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.rc(31,f,3,0,"div",22),a.rc(32,P,3,0,"div",22),a.Pb(),a.Pb()),2&e&&(a.Cb(7),a.gc("ngIf",t.showProgress),a.Cb(5),a.gc("formGroup",t.signInForm),a.Cb(7),a.gc("disabled",!t.signInForm.valid),a.Cb(12),a.gc("ngIf",t.invalidMobilenumber),a.Cb(1),a.gc("ngIf",t.mobileNumberNotFound))},directives:[b.g,r.i,b.z,d.a,b.u,i.j,b.e,o.s,o.n,o.g,b.l,b.k,b.h,b.B,o.m,o.e,o.i,o.j,b.o],styles:[".google-btn[_ngcontent-%COMP%]{border-color:#507cc0;color:#507cc0!important}.fb-btn[_ngcontent-%COMP%], .google-btn[_ngcontent-%COMP%]{background-color:#fff}.fb-btn[_ngcontent-%COMP%]{border-color:#df4930;color:#df4930!important}.sign-or[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:130px;border-top:1px solid #dee2e6}"]}),e})();const N=[{path:"",component:v}];let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Lb({type:e}),e.\u0275inj=a.Kb({imports:[[r.j.forChild(N)],r.j]}),e})();const x=[i.b,o.h,b.v,o.p,r.j.forChild([{path:"",component:v}]),d.c,w],I=[];let Q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Lb({type:e}),e.\u0275inj=a.Kb({providers:I,imports:[x]}),e})()}}]);