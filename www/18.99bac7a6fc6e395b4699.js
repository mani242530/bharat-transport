(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"0qXx":function(e,t,o){"use strict";o.r(t),o.d(t,"SignUpPageModule",function(){return w});var n=o("ofXK"),r=o("3Pt+"),c=o("tyNb"),i=o("TEn/"),a=o("mrSG"),l=o("3ScB"),s=o("RPWk"),b=o("Jgta"),m=o("fXoL"),u=o("2g2N"),C=o("I/3d"),d=o("ej43"),E=o("+hHy"),p=o("6NWb"),h=o("sYmb");const f=["createForm"];function A(e,t){1&e&&m.Ob(0,"ion-progress-bar",35)}function P(e,t){if(1&e&&(m.Rb(0,"ion-select-option",36),m.cc(1,"translate"),m.cc(2,"translate"),m.uc(3),m.cc(4,"translate"),m.Qb()),2&e){const e=t.$implicit;m.ic("value",m.dc(1,3,e)),m.ic("title",m.dc(2,5,e)),m.Cb(3),m.vc(m.dc(4,7,e))}}function v(e,t){if(1&e&&(m.Rb(0,"ion-select-option",37),m.cc(1,"translate"),m.cc(2,"translate"),m.uc(3),m.cc(4,"translate"),m.Qb()),2&e){const e=t.$implicit;m.ic("value",m.dc(1,3,e.name)),m.ic("title",m.dc(2,5,e.name)),m.Cb(3),m.vc(m.dc(4,7,e.name))}}function R(e,t){if(1&e&&(m.Rb(0,"ion-select-option",37),m.cc(1,"translate"),m.cc(2,"translate"),m.uc(3),m.cc(4,"translate"),m.Qb()),2&e){const e=t.$implicit;m.ic("value",m.dc(1,3,e.name)),m.ic("title",m.dc(2,5,e.name)),m.Cb(3),m.vc(m.dc(4,7,e.name))}}function T(e,t){if(1&e&&(m.Rb(0,"ion-select-option",36),m.cc(1,"translate"),m.cc(2,"translate"),m.uc(3),m.cc(4,"translate"),m.Qb()),2&e){const e=t.$implicit;m.ic("value",m.dc(1,3,e)),m.ic("title",m.dc(2,5,e)),m.Cb(3),m.vc(m.dc(4,7,e))}}function g(e,t){1&e&&(m.Rb(0,"div",38),m.Rb(1,"p",39),m.uc(2),m.cc(3,"translate"),m.Rb(4,"a",34),m.uc(5),m.cc(6,"translate"),m.Qb(),m.Qb(),m.Qb()),2&e&&(m.Cb(2),m.wc(" ",m.dc(3,2,"APP.CREATE_ACCOUNT.MOBILE_EXISTS")," "),m.Cb(3),m.vc(m.dc(6,4,"APP.CREATE_ACCOUNT.BUTTON.SIGN_IN")))}function O(e,t){1&e&&(m.Rb(0,"div",38),m.Rb(1,"p",40),m.uc(2),m.cc(3,"translate"),m.Qb(),m.Qb()),2&e&&(m.Cb(2),m.wc(" ",m.dc(3,1,"APP.CREATE_ACCOUNT.INVALID_MOBILE")," "))}let N=(()=>{class e{constructor(e,t,o,n,r,c,i){this.addnewFormbuilder=e,this.toastservice=t,this.ngroute=o,this.fbstore=n,this.toastController=r,this.authtenticationService=c,this.appservice=i,this.newCompany=new s.a,this.OTP="",this.CountryCode="+91",this.showOTPInput=!1,this.OTPmessage="An OTP is sent to your number. You should receive it in 15 s",this.showProgress=!1,this.invalidMobilenumber=!1,this.userExists=!1,this.vehicleTypes=["APP.VEHICLE_TYPE.LCV","APP.VEHICLE_TYPE.TRAILER","APP.VEHICLE_TYPE.TRUCK","APP.VEHICLE_TYPE.OPEN_TRUCK","APP.VEHICLE_TYPE.PART_LOAD","APP.VEHICLE_TYPE.ODC","APP.VEHICLE_TYPE.20_FT_CBT","APP.VEHICLE_TYPE.32_FT_SINGLE_EXCEL","APP.VEHICLE_TYPE.20_FT_IMPORT_EXPORT"],this.firmActivitys=["APP.CREATE_ACCOUNT.SELECT.FIRM_ACTIVITY.FREIGHT","APP.CREATE_ACCOUNT.SELECT.FIRM_ACTIVITY.BOOKING","APP.CREATE_ACCOUNT.SELECT.FIRM_ACTIVITY.SUPPLIER","APP.CREATE_ACCOUNT.SELECT.FIRM_ACTIVITY.OWNER","APP.CREATE_ACCOUNT.SELECT.FIRM_ACTIVITY.DRIVER"],this.locations=[],this.serviceProvidedLocations=[]}ngOnInit(){const e=l.a;this.locations=e.sort((e,t)=>e.name>t.name?1:t.name>e.name?-1:0),this.serviceProvidedLocations=e.sort((e,t)=>e.name>t.name?1:t.name>e.name?-1:0),this.firmActivitys=this.firmActivitys.sort((e,t)=>e>t?1:t>e?-1:0),this.vehicleTypes=this.vehicleTypes.sort((e,t)=>e>t?1:t>e?-1:0),this.initializeForm()}initializeForm(){this.createCompanyForm=new r.f({companyName:new r.c("",r.r.required),ownerName:new r.c("",r.r.required),firmActivity:new r.c("",r.r.required),vehicleType:new r.c("",r.r.required),landlineNumber:new r.c(""),mobileNumber:new r.c("",r.r.required),alternateMobileNumber:new r.c(""),location:new r.c("",r.r.required),serviceProvidedLocation:new r.c("",r.r.required),referenceName:new r.c("",[r.r.pattern("^[a-zA-Z -']+")])})}ionViewDidEnter(){return Object(a.b)(this,void 0,void 0,function*(){this.recaptchaVerifier=new b.a.auth.RecaptchaVerifier("sign-UP-button",{size:"invisible",callback:e=>{},"expired-callback":()=>{}})})}ionViewDidLoad(){this.recaptchaVerifier=new b.a.auth.RecaptchaVerifier("sign-UP-button",{size:"invisible",callback:e=>{},"expired-callback":()=>{}})}createCompany(e){return Object(a.b)(this,void 0,void 0,function*(){this.showProgress=!0;const e={companyName:this.createCompanyForm.get("companyName").value,ownerName:this.createCompanyForm.get("ownerName").value,firmActivity:this.createCompanyForm.get("firmActivity").value,vehicleType:this.createCompanyForm.get("vehicleType").value,landlineNumber:this.createCompanyForm.get("landlineNumber").value,mobileNumber:"+91"+this.createCompanyForm.get("mobileNumber").value,alternateMobileNumber:"+91"+this.createCompanyForm.get("alternateMobileNumber").value,location:this.createCompanyForm.get("location").value,serviceProvidedLocation:this.createCompanyForm.get("serviceProvidedLocation").value,referenceName:this.createCompanyForm.get("referenceName").value,language:this.appservice.selectedLanguage,paymentStatus:"NOT PAID"};Object.keys(e).forEach(t=>{"object"!=typeof e[t]&&(e[t]=e[t].trim())}),this.fbstore.collection("companys",t=>t.where("mobileNumber","==",e.mobileNumber).limit(1)).get().subscribe(t=>{if(console.log(t.size),0===t.size)try{this.fbstore.collection("companys").add(e).then(t=>{if(console.log(e),t)return new Promise((t,o)=>{this.authtenticationService.signInWithPhoneNumber(this.recaptchaVerifier,e.mobileNumber).then(e=>{t(e),this.showProgress=!1,this.invalidMobilenumber=!1,this.registerSuccessToast(),this.ngroute.navigate(["verification"])}).catch(e=>{this.showProgress=!1,this.invalidMobilenumber=!0,o(e)})})})}catch(o){this.showProgress=!1,console.log(o)}else this.showProgress=!1,this.userExists=!0})})}registerSuccessToast(){return Object(a.b)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"Account created successfully.",duration:2e3,position:"bottom",animated:!0,color:"Success"})).present()})}userRegisteredAlreadyToast(){return Object(a.b)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"Your mobile number is already registered.",duration:2e3,position:"top",animated:!0,color:"warning"})).present()})}}return e.\u0275fac=function(t){return new(t||e)(m.Nb(r.b),m.Nb(u.a),m.Nb(c.g),m.Nb(C.a),m.Nb(i.C),m.Nb(d.a),m.Nb(E.a))},e.\u0275cmp=m.Hb({type:e,selectors:[["app-signup"]],viewQuery:function(e,t){if(1&e&&m.yc(f,1),2&e){let e;m.mc(e=m.ac())&&(t.createForm=e.first)}},decls:95,vars:54,consts:[[1,"osahan-header-nav","shadow-sm","p-3","d-flex","align-items-center","bg-purple"],[1,"font-weight-normal","mb-0","text-white"],["routerLink","/get-started",1,"text-purple"],["icon","arrow-left",1,"icofont-rounded-left"],["color","warning","type","indeterminate",4,"ngIf"],["id","content","fullscreen",""],["id","sign-UP-button"],[1,"osahan-index","bg-c","align-items-center","justify-content-center","index-page"],[1,"px-3","py-3"],[3,"formGroup"],["createForm",""],[1,"form-group","mb-3"],[1,"text-muted","mb-1"],[1,"required-field"],["inputMode","text","clearInput","true","formControlName","companyName","required","","maxlength","250","placeholder","Enter company name",1,"form-control","rc-form-control","it-form-control"],["inputMode","text","clearInput","true","formControlName","ownerName","required","","maxlength","250","placeholder","Enter owner name",1,"form-control","rc-form-control","it-form-control"],["interface","popover","role","combobox","slot","","formControlName","firmActivity","required","","placeholder","Select",1,"form-control","rc-form-control","native-select","it-form-control"],["selected","false",3,"value","title",4,"ngFor","ngForOf"],["interface","popover","formControlName","location","required","","placeholder","Select",1,"form-control","rc-form-control","native-select","it-form-control"],[3,"value","title",4,"ngFor","ngForOf"],["multiple","true","interface","popover","formControlName","serviceProvidedLocation","required","","placeholder","Select",1,"form-control","rc-form-control","native-select","it-form-control"],["multiple","true","formControlName","vehicleType","cancelText","cancel","okText","ok","required","","placeholder","Select",1,"form-control","rc-form-control","native-select","it-form-control"],["inputMode","tel","clearInput","true","formControlName","mobileNumber","required","","maxlength","10","minlength","10","placeholder","Enter 10 digit mobile number",1,"form-control","rc-form-control","it-form-control"],["inputMode","tel","clearInput","true","formControlName","alternateMobileNumber","maxlength","10","minlength","10","placeholder","Enter 10 digit mobile number",1,"form-control","rc-form-control","it-form-control"],["inputMode","tel","clearInput","true","formControlName","landlineNumber","placeholder","Enter land line number",1,"form-control","rc-form-control","it-form-control"],["inputMode","text","clearInput","true","formControlName","referenceName","type","text","maxlength","250","placeholder","Enter reference name",1,"form-control","rc-form-control","it-form-control"],["type","submit","slot","end","fill","clear",1,"btn","btn-purple","btn-block","osahanbus-btn","mt-2",3,"disabled","click"],["class","osahan-signin text-center text-muted p-1",4,"ngIf"],[1,"sign-or","d-flex","align-items-center","justify-content-center","mt-4","mb-2"],[1,"mr-4"],[1,"text-muted","text-center","py-2","m-0"],[1,"ml-4"],[1,"osahan-signin","text-center","text-purple","p-1"],[1,"mb-3"],["routerLink","/signin",1,"text-orange","ml-2"],["color","warning","type","indeterminate"],["selected","false",3,"value","title"],[3,"value","title"],[1,"osahan-signin","text-center","text-muted","p-1"],[1,"pt-2","text-info"],[1,"pt-2","text-danger"]],template:function(e,t){1&e&&(m.Rb(0,"ion-header"),m.Rb(1,"div",0),m.Rb(2,"h5",1),m.Rb(3,"a",2),m.Ob(4,"fa-icon",3),m.Qb(),m.Rb(5,"ion-title"),m.uc(6),m.cc(7,"translate"),m.Qb(),m.Qb(),m.Qb(),m.sc(8,A,1,0,"ion-progress-bar",4),m.Qb(),m.Rb(9,"ion-content",5),m.Ob(10,"div",6),m.Rb(11,"div",7),m.Rb(12,"div",8),m.Rb(13,"form",9,10),m.Rb(15,"ion-list"),m.Rb(16,"div",11),m.Rb(17,"ion-label",12),m.uc(18),m.cc(19,"translate"),m.Ob(20,"span",13),m.Qb(),m.Ob(21,"ion-input",14),m.Qb(),m.Rb(22,"div",11),m.Rb(23,"ion-label",12),m.uc(24),m.cc(25,"translate"),m.Ob(26,"span",13),m.Qb(),m.Ob(27,"ion-input",15),m.Qb(),m.Rb(28,"div",11),m.Rb(29,"ion-label",12),m.uc(30),m.cc(31,"translate"),m.Ob(32,"span",13),m.Qb(),m.Rb(33,"ion-select",16),m.sc(34,P,5,9,"ion-select-option",17),m.Qb(),m.Qb(),m.Rb(35,"div",11),m.Rb(36,"ion-label",12),m.uc(37),m.cc(38,"translate"),m.Ob(39,"span",13),m.Qb(),m.Rb(40,"ion-select",18),m.sc(41,v,5,9,"ion-select-option",19),m.Qb(),m.Qb(),m.Rb(42,"div",11),m.Rb(43,"ion-label",12),m.uc(44),m.cc(45,"translate"),m.Ob(46,"span",13),m.Qb(),m.Rb(47,"ion-select",20),m.sc(48,R,5,9,"ion-select-option",19),m.Qb(),m.Qb(),m.Rb(49,"div",11),m.Rb(50,"ion-label",12),m.uc(51),m.cc(52,"translate"),m.Ob(53,"span",13),m.Qb(),m.Rb(54,"ion-select",21),m.sc(55,T,5,9,"ion-select-option",17),m.Qb(),m.Qb(),m.Rb(56,"div",11),m.Rb(57,"ion-label",12),m.uc(58),m.cc(59,"translate"),m.Ob(60,"span",13),m.Qb(),m.Ob(61,"ion-input",22),m.Qb(),m.Rb(62,"div",11),m.Rb(63,"ion-label",12),m.uc(64),m.cc(65,"translate"),m.Qb(),m.Ob(66,"ion-input",23),m.Qb(),m.Rb(67,"div",11),m.Rb(68,"ion-label",12),m.uc(69),m.cc(70,"translate"),m.Qb(),m.Ob(71,"ion-input",24),m.Qb(),m.Rb(72,"div",11),m.Rb(73,"ion-label",12),m.uc(74),m.cc(75,"translate"),m.Qb(),m.Ob(76,"ion-input",25),m.Qb(),m.Qb(),m.Rb(77,"button",26),m.Zb("click",function(){return t.createCompany(t.createCompanyForm.value)}),m.uc(78),m.cc(79,"translate"),m.Qb(),m.Qb(),m.sc(80,g,7,6,"div",27),m.Rb(81,"div",28),m.Ob(82,"hr",29),m.Rb(83,"p",30),m.uc(84),m.cc(85,"translate"),m.Qb(),m.Ob(86,"hr",31),m.Qb(),m.Rb(87,"div",32),m.Rb(88,"p",33),m.uc(89),m.cc(90,"translate"),m.Rb(91,"a",34),m.uc(92),m.cc(93,"translate"),m.Qb(),m.Qb(),m.Qb(),m.sc(94,O,4,3,"div",27),m.Qb(),m.Qb(),m.Qb()),2&e&&(m.Cb(6),m.vc(m.dc(7,24,"APP.CREATE_ACCOUNT.HEADER")),m.Cb(2),m.hc("ngIf",t.showProgress),m.Cb(5),m.hc("formGroup",t.createCompanyForm),m.Cb(5),m.vc(m.dc(19,26,"APP.CREATE_ACCOUNT.PLACEHOLDER.COMPANY_NAME")),m.Cb(6),m.vc(m.dc(25,28,"APP.CREATE_ACCOUNT.PLACEHOLDER.OWNER_NAME")),m.Cb(6),m.vc(m.dc(31,30,"APP.CREATE_ACCOUNT.PLACEHOLDER.SELECT_FIRM_ACTIVITY")),m.Cb(4),m.hc("ngForOf",t.firmActivitys),m.Cb(3),m.vc(m.dc(38,32,"APP.CREATE_ACCOUNT.PLACEHOLDER.SELECT_LOCATION")),m.Cb(4),m.hc("ngForOf",t.locations),m.Cb(3),m.vc(m.dc(45,34,"APP.CREATE_ACCOUNT.PLACEHOLDER.SELECT_SERVICE_PROVIDED_LOCATION")),m.Cb(4),m.hc("ngForOf",t.serviceProvidedLocations),m.Cb(3),m.vc(m.dc(52,36,"APP.CREATE_ACCOUNT.PLACEHOLDER.SELECT_VEHICLE_TYPE")),m.Cb(4),m.hc("ngForOf",t.vehicleTypes),m.Cb(3),m.vc(m.dc(59,38,"APP.CREATE_ACCOUNT.PLACEHOLDER.MOBILE_NUMBER")),m.Cb(6),m.vc(m.dc(65,40,"APP.CREATE_ACCOUNT.PLACEHOLDER.ALTERNATE_MOBILE_NUMBER")),m.Cb(5),m.vc(m.dc(70,42,"APP.CREATE_ACCOUNT.PLACEHOLDER.LANDLINE_NUMBER")),m.Cb(5),m.vc(m.dc(75,44,"APP.CREATE_ACCOUNT.PLACEHOLDER.REFERENCE_NAME")),m.Cb(3),m.hc("disabled",!t.createCompanyForm.valid),m.Cb(1),m.wc(" ",m.dc(79,46,"APP.CREATE_ACCOUNT.BUTTON.REGISTER")," "),m.Cb(2),m.hc("ngIf",t.userExists),m.Cb(4),m.wc(" ",m.dc(85,48,"APP.CREATE_ACCOUNT.PLACEHOLDER.OR")," "),m.Cb(5),m.wc(" ",m.dc(90,50,"APP.CREATE_ACCOUNT.PLACEHOLDER.ALREADY_A_MEMBER")," "),m.Cb(3),m.vc(m.dc(93,52,"APP.CREATE_ACCOUNT.BUTTON.SIGN_IN")),m.Cb(2),m.hc("ngIf",t.invalidMobilenumber))},directives:[i.g,c.i,i.z,p.a,i.u,n.j,i.e,r.s,r.n,r.g,i.l,i.k,i.h,i.B,r.m,r.e,r.q,r.i,i.r,i.A,n.i,r.j,i.n,i.s],pipes:[h.c],styles:[".google-btn[_ngcontent-%COMP%]{border-color:#507cc0;color:#507cc0!important}.fb-btn[_ngcontent-%COMP%], .google-btn[_ngcontent-%COMP%]{background-color:#fff}.fb-btn[_ngcontent-%COMP%]{border-color:#df4930;color:#df4930!important}.sign-or[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:130px;border-top:1px solid #dee2e6}"]}),e})();const L=[{path:"",component:N}];let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.Lb({type:e}),e.\u0275inj=m.Kb({imports:[[c.j.forChild(L)],c.j]}),e})();const I=[n.b,r.h,i.v,r.p,c.j.forChild([{path:"",component:N}]),p.c,h.b,_],y=[];let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.Lb({type:e}),e.\u0275inj=m.Kb({providers:y,imports:[I]}),e})()}}]);