{"version":3,"sources":["./src/app/it-listing/it-listing.page.component.scss","./src/app/it-listing/it-listing.module.ts","./src/app/it-listing/it-listing.page.component.html","./src/app/it-listing/it-listing.page.component.ts","./src/app/it-listing/it-listing.page.routing.module.ts"],"names":[],"mappings":"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","file":"it-listing-it-listing-module.js","sourcesContent":["export default \"/* Button Styles */\\n.google-btn {\\n  background-color: #ffffff;\\n  border-color: #507cc0;\\n  color: #507cc0 !important;\\n}\\n.fb-btn {\\n  background-color: #ffffff;\\n  border-color: #df4930;\\n  color: #df4930 !important;\\n}\\n/* Signin */\\n.sign-or hr {\\n  width: 130px;\\n  border-top: 1px solid #dee2e6;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGl0LWxpc3RpbmcucGFnZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxrQkFBQTtBQUNBO0VBQ0UseUJBQUE7RUFDQSxxQkFBQTtFQUNBLHlCQUFBO0FBQ0Y7QUFDQTtFQUNFLHlCQUFBO0VBQ0EscUJBQUE7RUFDQSx5QkFBQTtBQUVGO0FBQUEsV0FBQTtBQUNBO0VBQ0UsWUFBQTtFQUNBLDZCQUFBO0FBR0YiLCJmaWxlIjoiaXQtbGlzdGluZy5wYWdlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyogQnV0dG9uIFN0eWxlcyAqL1xyXG4uZ29vZ2xlLWJ0biB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcclxuICBib3JkZXItY29sb3I6ICM1MDdjYzA7XHJcbiAgY29sb3I6ICM1MDdjYzAgIWltcG9ydGFudDtcclxufVxyXG4uZmItYnRuIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gIGJvcmRlci1jb2xvcjogI2RmNDkzMDtcclxuICBjb2xvcjogI2RmNDkzMCAhaW1wb3J0YW50O1xyXG59XHJcbi8qIFNpZ25pbiAqL1xyXG4uc2lnbi1vciBociB7XHJcbiAgd2lkdGg6IDEzMHB4O1xyXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZGVlMmU2O1xyXG59XHJcbiJdfQ== */\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ListingPageComponent } from './it-listing.page.component';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { ListingPageRoutingModule } from './it-listing.page.routing.module';\r\n\r\n// import { ScrollingModule } from \"@angular/cdk/scrolling/public-api\";\r\nimport { environment } from 'src/environments/environment';\r\nimport { AvatarModule } from 'ngx-avatar';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ListingPageComponent,\r\n  },\r\n];\r\n\r\n/**\r\n * MODULES\r\n */\r\nconst MODULES = [\r\n  CommonModule,\r\n  FormsModule,\r\n  IonicModule,\r\n  RouterModule.forChild(routes),\r\n  FontAwesomeModule,\r\n  // ScrollingModule,\r\n  AvatarModule,\r\n  ListingPageRoutingModule, // ListingPageRoutingModule\r\n  TranslateModule,\r\n];\r\n\r\n/**\r\n * COMPONENTS\r\n */\r\nconst COMPONENTS = [\r\n  ListingPageComponent, // ListingPageComponent\r\n];\r\n\r\n/**\r\n * PROVIDERS\r\n */\r\nconst PROVIDERS = [];\r\n\r\n/**\r\n * Ng module\r\n */\r\n@NgModule({\r\n  imports: MODULES,\r\n  exports: COMPONENTS,\r\n  declarations: COMPONENTS,\r\n  providers: PROVIDERS,\r\n})\r\nexport class ListingPageModule {}\r\n","export default \"<ion-header>\\r\\n  <!-- <ion-toolbar> -->\\r\\n  <div\\r\\n    class=\\\"osahan-header-nav shadow-sm p-3 d-flex align-items-center bg-purple\\\"\\r\\n  >\\r\\n    <h5 class=\\\"font-weight-normal mb-0 text-white\\\">\\r\\n      <a class=\\\"text-purple\\\" routerLink=\\\"/home\\\"\\r\\n        ><fa-icon icon=\\\"arrow-left\\\" class=\\\"icofont-rounded-left\\\"></fa-icon\\r\\n      ></a>\\r\\n      <ion-title>{{ \\\"APP.LISTING.TITLE\\\" | translate }}</ion-title>\\r\\n    </h5>\\r\\n    <div class=\\\"ml-auto d-flex align-items-center\\\">\\r\\n      <!-- <a class=\\\"text-white h6 mb-0\\\" routerLink=\\\"/home\\\"\\r\\n          ><fa-icon icon=\\\"search\\\" class=\\\"icofont-search-1\\\"></fa-icon\\r\\n        ></a>\\r\\n        <a\\r\\n          href=\\\"#\\\"\\r\\n          class=\\\"mx-4 text-white h6 mb-0\\\"\\r\\n          data-toggle=\\\"modal\\\"\\r\\n          data-target=\\\"#filterModal\\\"\\r\\n          ><fa-icon icon=\\\"filter\\\" class=\\\"icofont-filter\\\"></fa-icon\\r\\n        ></a> -->\\r\\n      <ngx-avatar name=\\\"{{ userName }}\\\" size=\\\"50\\\"></ngx-avatar>\\r\\n      <ion-buttons slot=\\\"end\\\">\\r\\n        <ion-menu-button\\r\\n          ><fa-icon icon=\\\"bars\\\" class=\\\"icofont-navigation-menu\\\"></fa-icon\\r\\n        ></ion-menu-button>\\r\\n      </ion-buttons>\\r\\n    </div>\\r\\n  </div>\\r\\n  <!-- </ion-toolbar> -->\\r\\n</ion-header>\\r\\n\\r\\n<ion-content id=\\\"content\\\" fullscreen>\\r\\n  <!-- <cdk-virtual-scroll-viewport\\r\\n    class=\\\"scroll-viewport\\\"\\r\\n    #scroll\\r\\n    itemSize=\\\"80\\\"\\r\\n    minBufferPx=\\\"900\\\"\\r\\n    maxBufferPx=\\\"1350\\\"\\r\\n  > -->\\r\\n  <div class=\\\"osahan-listing p-0 m-0 row border-top\\\">\\r\\n    <div class=\\\"p-2 w-100\\\">\\r\\n      <div class=\\\"bg-white border border-warning rounded-1 shadow-sm p-2\\\">\\r\\n        <div class=\\\"row mx-0 px-1\\\">\\r\\n          <div class=\\\"col-6 p-0\\\">\\r\\n            <small class=\\\"text-muted mb-1 f-10 pr-1\\\">{{\\r\\n              \\\"APP.LISTING.LABEL.GOING_FROM\\\" | translate\\r\\n            }}</small>\\r\\n            <p class=\\\"small mb-0\\\">{{ searchParam.from | uppercase }}</p>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-6 p-0\\\">\\r\\n            <small class=\\\"text-muted mb-1 f-10 pr-1\\\">{{\\r\\n              \\\"APP.LISTING.LABEL.GOING_TO\\\" | translate\\r\\n            }}</small>\\r\\n            <p class=\\\"small mb-0\\\">{{ searchParam.to | uppercase }}</p>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <!-- <ion-grid>\\r\\n    <ion-row>\\r\\n      <ion-col\\r\\n        size=\\\"12\\\"\\r\\n        margin\\r\\n        *ngFor=\\\"let company of companys; let i = index\\\"\\r\\n        [routerLink]=\\\"['/listing-detail/', company.id]\\\"\\r\\n        class=\\\"text-dark px-0 py-0\\\"\\r\\n      > -->\\r\\n  <ion-list lines=\\\"none\\\" *ngIf=\\\"!isLoading\\\">\\r\\n    <ion-item-sliding\\r\\n      *ngFor=\\\"let company of companys; let i = index\\\"\\r\\n      [routerLink]=\\\"['/listing-detail/', company.id]\\\"\\r\\n      class=\\\"text-dark px-0 py-0\\\"\\r\\n    >\\r\\n      <div\\r\\n        class=\\\"\\r\\n          list_item_gird\\r\\n          m-1\\r\\n          bg-white\\r\\n          shadow-sm\\r\\n          listing-item\\r\\n          border-right\\r\\n          p-3\\r\\n        \\\"\\r\\n      >\\r\\n        <div class=\\\"tic-div mb-2\\\">\\r\\n          <p class=\\\"mb-0 l-hght-10\\\">{{ company.companyName }}</p>\\r\\n          <span class=\\\"text-purple small text-small\\\"\\r\\n            >{{ company.firstName }} {{ company.lastName }}</span\\r\\n          >\\r\\n        </div>\\r\\n        <div class=\\\"d-flex\\\">\\r\\n          <div class=\\\"bus_details w-100\\\">\\r\\n            <div class=\\\"d-flex l-hght-10\\\">\\r\\n              <div>\\r\\n                <small class=\\\"text-muted d-block\\\">{{\\r\\n                  \\\"APP.LISTING.LABEL.FIRM_ACTIVITY\\\" | translate\\r\\n                }}</small>\\r\\n                <p class=\\\"l-hght-10\\\">{{ company.firmActivity }}</p>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"d-flex l-hght-10\\\">\\r\\n              <div>\\r\\n                <small class=\\\"text-muted d-block\\\">{{\\r\\n                  \\\"APP.LISTING.LABEL.SERVICE_PROVIDING\\\" | translate\\r\\n                }}</small>\\r\\n                <p class=\\\"l-hght-20\\\">{{ company.serviceProviding }}</p>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"d-flex l-hght-10\\\">\\r\\n              <div>\\r\\n                <small class=\\\"text-muted d-block\\\">{{\\r\\n                  \\\"APP.LISTING.LABEL.LOCATION\\\" | translate\\r\\n                }}</small>\\r\\n                <p class=\\\"l-hght-10\\\">{{ company.location }}</p>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <fa-icon\\r\\n            icon=\\\"angle-double-right\\\"\\r\\n            class=\\\"angle-double-right\\\"\\r\\n          ></fa-icon>\\r\\n        </div>\\r\\n      </div>\\r\\n    </ion-item-sliding>\\r\\n  </ion-list>\\r\\n  <!-- </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid> -->\\r\\n\\r\\n  <ion-list lines=\\\"none\\\" *ngIf=\\\"isLoading\\\">\\r\\n    <ion-item-sliding *ngFor=\\\"let company of companys\\\">\\r\\n      <ion-item lines=\\\"none\\\">\\r\\n        <ion-label>\\r\\n          <h3>\\r\\n            <ion-skeleton-text animated style=\\\"width: 30%\\\"></ion-skeleton-text>\\r\\n          </h3>\\r\\n          <p>\\r\\n            <ion-skeleton-text animated style=\\\"width: 75%\\\"></ion-skeleton-text>\\r\\n          </p>\\r\\n        </ion-label>\\r\\n      </ion-item>\\r\\n    </ion-item-sliding>\\r\\n  </ion-list>\\r\\n\\r\\n  <div class=\\\"d-flex justify-content-center\\\">\\r\\n    <div\\r\\n      class=\\\"spinner-grow d-flex justify-content-center\\\"\\r\\n      role=\\\"status\\\"\\r\\n      *ngIf=\\\"isLoading\\\"\\r\\n    >\\r\\n      <span class=\\\"sr-only\\\">{{ \\\"APP.LISTING.LOADING\\\" | translate }}</span>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"d-flex justify-content-center text-danger mt-5\\\" *ngIf=\\\"noresults\\\">\\r\\n    <span>{{ \\\"APP.LISTING.NO_RESULTS\\\" | translate }}</span>\\r\\n  </div>\\r\\n\\r\\n  <!-- </cdk-virtual-scroll-viewport> -->\\r\\n</ion-content>\\r\\n\";","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { IonRouterOutlet, ModalController } from '@ionic/angular';\r\nimport { of } from 'rxjs';\r\nimport { delay } from 'rxjs/operators';\r\nimport { Company } from '../models/contact';\r\nimport { AppService } from '../services/app.servcie';\r\nimport { ToastService } from '../services/toast.service';\r\n\r\n@Component({\r\n  selector: 'app-listing',\r\n  templateUrl: './it-listing.page.component.html',\r\n  styleUrls: ['./it-listing.page.component.scss'],\r\n})\r\nexport class ListingPageComponent implements OnInit {\r\n  companys: Company[];\r\n  isLoading = true;\r\n  searchParam;\r\n  noresults = false;\r\n  selectedVehicleType: string;\r\n\r\n  userData;\r\n  user;\r\n  userName;\r\n\r\n  // @ViewChild(CdkVirtualScrollViewport, { static: true })\r\n  // viewport: CdkVirtualScrollViewport;\r\n\r\n  constructor(\r\n    public modalController: ModalController,\r\n    private routerOutlet: IonRouterOutlet,\r\n    private route: ActivatedRoute,\r\n    private appService: AppService,\r\n    public ngroute: Router,\r\n    private fbstore: AngularFirestore,\r\n    private toastservice: ToastService\r\n  ) {\r\n    this.isLoading = true;\r\n    this.route.queryParams.subscribe((params) => {\r\n      this.searchParam = params;\r\n      this.searchContactByLocation(this.searchParam);\r\n    });\r\n\r\n    this.selectedVehicleType = this.appService.selectedVehicleType;\r\n  }\r\n\r\n  async ngOnInit() {}\r\n\r\n  trackByFn(_, item) {\r\n    return item.id;\r\n  }\r\n\r\n  // searchContactByLocation(params) {\r\n  // this.dataService.searchContactByLocation().subscribe((data: any) => {\r\n  //   if (data.length > 0) {\r\n  //     const filtereddata = data.filter(\r\n  //       (x) => x.location == params.from || x.location === params.to\r\n  //     );\r\n  //     const filteredVehicle = filtereddata.filter(\r\n  //       (v) => (v.serviceProviding = this.selectedVehicleType)\r\n  //     );\r\n  //     if (filteredVehicle.length > 0) {\r\n  //       this.showLoading = false;\r\n  //       this.noresults = false;\r\n  //       this.companys = filteredVehicle;\r\n  //     } else {\r\n  //       this.showLoading = false;\r\n  //       this.noresults = true;\r\n  //     }\r\n  //   }\r\n  // });\r\n  // }\r\n\r\n  async searchContactByLocation(params) {\r\n    try {\r\n      await this.fbstore\r\n        .collection('companys')\r\n        .snapshotChanges()\r\n        .subscribe((data) => {\r\n          // if (data.length > 0) {\r\n          //   const filtereddata = data.filter(\r\n          //     (x) => x.location == params.from || x.location === params.to\r\n          //   );\r\n          //   const filteredVehicle = filtereddata.filter(\r\n          //     (v) => (v.serviceProviding = this.selectedVehicleType)\r\n          //   );\r\n          //   if (filteredVehicle.length > 0) {\r\n          //     this.isLoading = false;\r\n          //     this.noresults = false;\r\n          //     this.companys = filteredVehicle;\r\n          //   } else {\r\n          //     this.isLoading = false;\r\n          //     this.noresults = true;\r\n          //   }\r\n          // }\r\n          const filteredLocation = data.filter(\r\n            (result) =>\r\n              result.payload.doc.data()['location'] === params.from ||\r\n              result.payload.doc.data()['location'] === params.to\r\n          );\r\n          // const filteredVehicleType = filteredLocation.filter((result) =>\r\n          //   result.payload.doc\r\n          //     .data()\r\n          //     ['serviceProviding'].includes(this.selectedVehicleType)\r\n          // );\r\n          // people.filter(person => id_filter.includes(person.id))\r\n\r\n          if (filteredLocation.length > 0) {\r\n            this.noresults = false;\r\n            this.companys = data.map((result) => {\r\n              return {\r\n                id: result.payload.doc.id,\r\n                firstName: result.payload.doc.data()['firstName'],\r\n                lastName: result.payload.doc.data()['lastName'],\r\n                companyName: result.payload.doc.data()['companyName'],\r\n                firmActivity: result.payload.doc.data()['firmActivity'],\r\n                serviceProviding: result.payload.doc\r\n                  .data()\r\n                  ['serviceProviding'].toString(),\r\n                landlineNumber: result.payload.doc.data()['landlineNumber'],\r\n                mobileNumber: result.payload.doc.data()['mobileNumber'],\r\n                location: result.payload.doc.data()['location'],\r\n              };\r\n            });\r\n          } else {\r\n            this.noresults = true;\r\n          }\r\n\r\n          /* remove later only for delaying loading of products list to show animation for a longer duration */\r\n          of(data)\r\n            .pipe(delay(1000))\r\n            .subscribe((data) => {\r\n              this.isLoading = false;\r\n            });\r\n        });\r\n    } catch (error) {\r\n      this.toastservice.showToast(error.message, 2000);\r\n      console.log(error.message);\r\n    }\r\n  }\r\n}\r\n","/***********************************\r\n * Copyright Fedex 1995 - 2021\r\n ***********************************/\r\nimport { NgModule } from \"@angular/core\";\r\nimport { RouterModule, Routes } from \"@angular/router\";\r\nimport { ListingPageComponent } from \"./it-listing.page.component\";\r\n\r\n/**\r\n * Routes\r\n */\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\", // path\r\n    component: ListingPageComponent, // component\r\n  },\r\n];\r\n\r\n/**\r\n * Ng module\r\n */\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)], // imports\r\n  exports: [RouterModule], // exports\r\n})\r\n\r\n/**\r\n * ListingPageRoutingModule\r\n */\r\nexport class ListingPageRoutingModule {}\r\n"],"sourceRoot":"webpack:///"}