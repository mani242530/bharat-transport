(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{TuRf:function(e,t,o){"use strict";o.r(t),o.d(t,"ProfilePageModule",function(){return F});var n=o("ofXK"),r=o("3Pt+"),i=o("tyNb"),c=o("TEn/"),a=o("mrSG"),l=o("wEno"),s=o("3ScB"),b=o("RPWk"),m=o("fXoL"),u=o("2g2N"),d=o("I/3d"),C=o("ej43"),f=o("+hHy"),p=o("6NWb"),P=o("sYmb");const E=["modifyForm"];function h(e,t){1&e&&m.Ob(0,"ion-progress-bar",28)}function v(e,t){if(1&e&&(m.Qb(0,"ion-select-option",29),m.bc(1,"translate"),m.bc(2,"translate"),m.tc(3),m.bc(4,"translate"),m.Pb()),2&e){const e=t.$implicit;m.hc("value",m.cc(1,3,e)),m.hc("title",m.cc(2,5,e)),m.Cb(3),m.uc(m.cc(4,7,e))}}function A(e,t){if(1&e&&(m.Qb(0,"ion-select-option",30),m.bc(1,"translate"),m.bc(2,"translate"),m.tc(3),m.bc(4,"translate"),m.Pb()),2&e){const e=t.$implicit;m.hc("value",m.cc(1,3,e.name)),m.hc("title",m.cc(2,5,e.name)),m.Cb(3),m.uc(m.cc(4,7,e.name))}}function y(e,t){if(1&e&&(m.Qb(0,"ion-select-option",30),m.bc(1,"translate"),m.bc(2,"translate"),m.tc(3),m.bc(4,"translate"),m.Pb()),2&e){const e=t.$implicit;m.hc("value",m.cc(1,3,e.name)),m.hc("title",m.cc(2,5,e.name)),m.Cb(3),m.uc(m.cc(4,7,e.name))}}function T(e,t){if(1&e&&(m.Qb(0,"ion-select-option",29),m.bc(1,"translate"),m.bc(2,"translate"),m.tc(3),m.bc(4,"translate"),m.Pb()),2&e){const e=t.$implicit;m.hc("value",m.cc(1,3,e)),m.hc("title",m.cc(2,5,e)),m.Cb(3),m.uc(m.cc(4,7,e))}}function N(e,t){1&e&&(m.Qb(0,"div",31),m.Qb(1,"p",32),m.tc(2),m.bc(3,"translate"),m.Pb(),m.Pb()),2&e&&(m.Cb(2),m.vc(" ",m.cc(3,1,"APP.CREATE_ACCOUNT.INVALID_MOBILE")," "))}function g(e,t){1&e&&(m.Qb(0,"div",31),m.Qb(1,"p",33),m.tc(2),m.bc(3,"translate"),m.Pb(),m.Pb()),2&e&&(m.Cb(2),m.vc(" ",m.cc(3,1,"APP.CREATE_ACCOUNT.MOBILE_EXISTS")," "))}let O=(()=>{class e{constructor(e,t,o,n,r,i,c,a){this.addnewFormbuilder=e,this.toastservice=t,this.ngroute=o,this.fbstore=n,this.toastController=r,this.authtenticationService=i,this.appservice=c,this.route=a,this.newCompany=new b.a,this.showProgress=!1,this.invalidMobilenumber=!1,this.userExists=!1,this.vehicleTypes=["APP.VEHICLE_TYPE.LCV","APP.VEHICLE_TYPE.TRAILER","APP.VEHICLE_TYPE.TRUCK","APP.VEHICLE_TYPE.OPEN_TRUCK","APP.VEHICLE_TYPE.PART_LOAD","APP.VEHICLE_TYPE.ODC","APP.VEHICLE_TYPE.20_FT_CBT","APP.VEHICLE_TYPE.32_FT_SINGLE_EXCEL","APP.VEHICLE_TYPE.20_FT_IMPORT_EXPORT"],this.firmActivitys=["APP.CREATE_ACCOUNT.SELECT.FIRM_ACTIVITY.FREIGHT","APP.CREATE_ACCOUNT.SELECT.FIRM_ACTIVITY.BOOKING","APP.CREATE_ACCOUNT.SELECT.FIRM_ACTIVITY.SUPPLIER","APP.CREATE_ACCOUNT.SELECT.FIRM_ACTIVITY.OWNER"],this.locations=[],this.serviceProvidedLocations=[],this.docid=this.route.snapshot.paramMap.get("id"),this.initializeModifyForm()}ngOnInit(){this.locations=l.a,this.serviceProvidedLocations=s.a,this.getCompanys(this.docid)}initializeModifyForm(){this.modifyCompanyForm=new r.f({companyName:new r.c("",r.r.required),ownerName:new r.c("",r.r.required),firmActivity:new r.c("",r.r.required),vehicleType:new r.c("",r.r.required),landlineNumber:new r.c(""),mobileNumber:new r.c("",r.r.required),alternateMobileNumber:new r.c(""),location:new r.c("",r.r.required),serviceProvidedLocation:new r.c("",r.r.required),referenceName:new r.c("",[r.r.required,r.r.pattern("^[a-zA-Z -']+")])})}getCompanys(e){return Object(a.b)(this,void 0,void 0,function*(){try{yield this.fbstore.doc("companys/"+e).valueChanges().subscribe(e=>{console.log("modify>>>"+e),this.modifyCompanyForm.controls.companyName.setValue(e.companyName),this.modifyCompanyForm.controls.ownerName.setValue(e.ownerName),this.modifyCompanyForm.controls.firmActivity.setValue(e.firmActivity),this.modifyCompanyForm.controls.vehicleType.setValue(e.vehicleType.split(",")),this.modifyCompanyForm.controls.landlineNumber.setValue(e.landlineNumber),this.modifyCompanyForm.controls.mobileNumber.setValue(e.mobileNumber),this.modifyCompanyForm.controls.alternateMobileNumber.setValue(e.alternateMobileNumber),this.modifyCompanyForm.controls.location.setValue(e.location),this.modifyCompanyForm.controls.serviceProvidedLocation.setValue(e.serviceProvidedLocation.split(",")),this.modifyCompanyForm.controls.referenceName.setValue(e.referenceName)})}catch(t){this.toastservice.showToast(t.message,2e3)}})}registerSuccessToast(){return Object(a.b)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"Account updated successfully.",duration:2e3,position:"bottom",animated:!0,color:"Success"})).present()})}userRegisteredAlreadyToast(){return Object(a.b)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"Your mobile number is already registered.",duration:2e3,position:"top",animated:!0,color:"warning"})).present()})}doModify(){return Object(a.b)(this,void 0,void 0,function*(){let e={companyName:this.modifyCompanyForm.get("companyName").value,ownerName:this.modifyCompanyForm.get("ownerName").value,firmActivity:this.modifyCompanyForm.get("firmActivity").value,vehicleType:this.modifyCompanyForm.get("vehicleType").value.toString(),landlineNumber:this.modifyCompanyForm.get("landlineNumber").value,mobileNumber:this.modifyCompanyForm.get("mobileNumber").value,alternateMobileNumber:this.modifyCompanyForm.get("alternateMobileNumber").value,location:this.modifyCompanyForm.get("location").value,serviceProvidedLocation:this.modifyCompanyForm.get("serviceProvidedLocation").value.toString(),referenceName:this.modifyCompanyForm.get("referenceName").value,paymentStatus:"NOT PAID"};try{yield this.fbstore.doc("companys/"+this.docid).update(e).then(e=>{console.log(e),this.toastservice.showToast("Updated Sucessfully",2e3)})}catch(t){this.toastservice.showToast(t.message,2e3)}})}}return e.\u0275fac=function(t){return new(t||e)(m.Nb(r.b),m.Nb(u.a),m.Nb(i.g),m.Nb(d.a),m.Nb(c.C),m.Nb(C.a),m.Nb(f.a),m.Nb(i.a))},e.\u0275cmp=m.Hb({type:e,selectors:[["app-profile"]],viewQuery:function(e,t){if(1&e&&m.xc(E,1),2&e){let e;m.lc(e=m.Zb())&&(t.modifyForm=e.first)}},decls:83,vars:45,consts:[[1,"osahan-header-nav","shadow-sm","p-3","d-flex","align-items-center","bg-purple"],[1,"font-weight-normal","mb-0","text-white"],["routerLink","/home",1,"text-purple"],["icon","arrow-left",1,"icofont-rounded-left"],["color","warning","type","indeterminate",4,"ngIf"],["id","content","fullscreen",""],["id","sign-UP-button"],[1,"osahan-index","bg-c","align-items-center","justify-content-center","vh-100","index-page"],[1,"px-3","py-3"],[3,"formGroup"],["modifyForm",""],[1,"form-group","mb-3"],[1,"text-muted","mb-1"],[1,"required-field"],["inputMode","text","clearInput","true","formControlName","companyName","required","",1,"form-control","rc-form-control","it-form-control"],["inputMode","text","clearInput","true","formControlName","ownerName","required","",1,"form-control","rc-form-control","it-form-control"],["interface","popover","role","combobox","slot","","formControlName","firmActivity","required","","placeholder","Select",1,"form-control","rc-form-control","native-select","it-form-control"],["selected","false",3,"value","title",4,"ngFor","ngForOf"],["interface","popover","formControlName","location","required","","placeholder","Select",1,"form-control","rc-form-control","native-select","it-form-control"],[3,"value","title",4,"ngFor","ngForOf"],["multiple","true","interface","popover","formControlName","serviceProvidedLocation","required","","placeholder","Select",1,"form-control","rc-form-control","native-select","it-form-control"],["multiple","true","formControlName","vehicleType","cancelText","cancel","okText","ok","required","","placeholder","Select",1,"form-control","rc-form-control","native-select","it-form-control"],["inputMode","tel","clearInput","true","formControlName","mobileNumber","required","",1,"form-control","rc-form-control","it-form-control"],["inputMode","tel","clearInput","true","formControlName","alternateMobileNumber",1,"form-control","rc-form-control","it-form-control"],["inputMode","tel","clearInput","true","formControlName","landlineNumber",1,"form-control","rc-form-control","it-form-control"],["inputMode","text","clearInput","true","formControlName","referenceName","type","text","required","",1,"form-control","rc-form-control","it-form-control"],["type","submit","slot","end","fill","clear",1,"btn","btn-purple","btn-block","osahanbus-btn","mt-2",3,"disabled","click"],["class","osahan-signin text-center text-muted p-1",4,"ngIf"],["color","warning","type","indeterminate"],["selected","false",3,"value","title"],[3,"value","title"],[1,"osahan-signin","text-center","text-muted","p-1"],[1,"pt-2","text-danger"],[1,"pt-2","text-info"]],template:function(e,t){1&e&&(m.Qb(0,"ion-header"),m.Qb(1,"div",0),m.Qb(2,"h5",1),m.Qb(3,"a",2),m.Ob(4,"fa-icon",3),m.Pb(),m.Qb(5,"ion-title"),m.tc(6),m.bc(7,"translate"),m.Pb(),m.Pb(),m.Pb(),m.rc(8,h,1,0,"ion-progress-bar",4),m.Pb(),m.Qb(9,"ion-content",5),m.Ob(10,"div",6),m.Qb(11,"div",7),m.Qb(12,"div",8),m.Qb(13,"form",9,10),m.Qb(15,"ion-list"),m.Qb(16,"div",11),m.Qb(17,"ion-label",12),m.tc(18),m.bc(19,"translate"),m.Ob(20,"span",13),m.Pb(),m.Ob(21,"ion-input",14),m.Pb(),m.Qb(22,"div",11),m.Qb(23,"ion-label",12),m.tc(24),m.bc(25,"translate"),m.Ob(26,"span",13),m.Pb(),m.Ob(27,"ion-input",15),m.Pb(),m.Qb(28,"div",11),m.Qb(29,"ion-label",12),m.tc(30),m.bc(31,"translate"),m.Ob(32,"span",13),m.Pb(),m.Qb(33,"ion-select",16),m.rc(34,v,5,9,"ion-select-option",17),m.Pb(),m.Pb(),m.Qb(35,"div",11),m.Qb(36,"ion-label",12),m.tc(37),m.bc(38,"translate"),m.Ob(39,"span",13),m.Pb(),m.Qb(40,"ion-select",18),m.rc(41,A,5,9,"ion-select-option",19),m.Pb(),m.Pb(),m.Qb(42,"div",11),m.Qb(43,"ion-label",12),m.tc(44),m.bc(45,"translate"),m.Ob(46,"span",13),m.Pb(),m.Qb(47,"ion-select",20),m.rc(48,y,5,9,"ion-select-option",19),m.Pb(),m.Pb(),m.Qb(49,"div",11),m.Qb(50,"ion-label",12),m.tc(51),m.bc(52,"translate"),m.Ob(53,"span",13),m.Pb(),m.Qb(54,"ion-select",21),m.rc(55,T,5,9,"ion-select-option",17),m.Pb(),m.Pb(),m.Qb(56,"div",11),m.Qb(57,"ion-label",12),m.tc(58),m.bc(59,"translate"),m.Ob(60,"span",13),m.Pb(),m.Ob(61,"ion-input",22),m.Pb(),m.Qb(62,"div",11),m.Qb(63,"ion-label",12),m.tc(64),m.bc(65,"translate"),m.Pb(),m.Ob(66,"ion-input",23),m.Pb(),m.Qb(67,"div",11),m.Qb(68,"ion-label",12),m.tc(69),m.bc(70,"translate"),m.Pb(),m.Ob(71,"ion-input",24),m.Pb(),m.Qb(72,"div",11),m.Qb(73,"ion-label",12),m.tc(74),m.bc(75,"translate"),m.Ob(76,"span",13),m.Pb(),m.Ob(77,"ion-input",25),m.Pb(),m.Pb(),m.Qb(78,"button",26),m.Yb("click",function(){return t.doModify()}),m.tc(79),m.bc(80,"translate"),m.Pb(),m.Pb(),m.rc(81,N,4,3,"div",27),m.rc(82,g,4,3,"div",27),m.Pb(),m.Pb(),m.Pb()),2&e&&(m.Cb(6),m.uc(m.cc(7,21,"APP.UPDATE_ACCOUNT.HEADER")),m.Cb(2),m.gc("ngIf",t.showProgress),m.Cb(5),m.gc("formGroup",t.modifyCompanyForm),m.Cb(5),m.uc(m.cc(19,23,"APP.CREATE_ACCOUNT.PLACEHOLDER.COMPANY_NAME")),m.Cb(6),m.uc(m.cc(25,25,"APP.CREATE_ACCOUNT.PLACEHOLDER.OWNER_NAME")),m.Cb(6),m.uc(m.cc(31,27,"APP.CREATE_ACCOUNT.PLACEHOLDER.SELECT_FIRM_ACTIVITY")),m.Cb(4),m.gc("ngForOf",t.firmActivitys),m.Cb(3),m.uc(m.cc(38,29,"APP.CREATE_ACCOUNT.PLACEHOLDER.SELECT_LOCATION")),m.Cb(4),m.gc("ngForOf",t.locations),m.Cb(3),m.uc(m.cc(45,31,"APP.CREATE_ACCOUNT.PLACEHOLDER.SELECT_SERVICE_PROVIDED_LOCATION")),m.Cb(4),m.gc("ngForOf",t.serviceProvidedLocations),m.Cb(3),m.uc(m.cc(52,33,"APP.CREATE_ACCOUNT.PLACEHOLDER.SELECT_VEHICLE_TYPE")),m.Cb(4),m.gc("ngForOf",t.vehicleTypes),m.Cb(3),m.uc(m.cc(59,35,"APP.CREATE_ACCOUNT.PLACEHOLDER.MOBILE_NUMBER")),m.Cb(6),m.uc(m.cc(65,37,"APP.CREATE_ACCOUNT.PLACEHOLDER.ALTERNATE_MOBILE_NUMBER")),m.Cb(5),m.uc(m.cc(70,39,"APP.CREATE_ACCOUNT.PLACEHOLDER.LANDLINE_NUMBER")),m.Cb(5),m.uc(m.cc(75,41,"APP.CREATE_ACCOUNT.PLACEHOLDER.REFERENCE_NAME")),m.Cb(4),m.gc("disabled",!t.modifyCompanyForm.valid),m.Cb(1),m.vc(" ",m.cc(80,43,"APP.CREATE_ACCOUNT.BUTTON.UPDATE")," "),m.Cb(2),m.gc("ngIf",t.invalidMobilenumber),m.Cb(1),m.gc("ngIf",t.userExists))},directives:[c.g,i.i,c.z,p.a,c.u,n.j,c.e,r.s,r.n,r.g,c.l,c.k,c.h,c.B,r.m,r.e,r.q,c.r,c.A,n.i,c.n,c.s],pipes:[P.c],styles:[".google-btn[_ngcontent-%COMP%]{border-color:#507cc0;color:#507cc0!important}.fb-btn[_ngcontent-%COMP%], .google-btn[_ngcontent-%COMP%]{background-color:#fff}.fb-btn[_ngcontent-%COMP%]{border-color:#df4930;color:#df4930!important}.sign-or[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:130px;border-top:1px solid #dee2e6}"]}),e})();const L=[{path:"",component:O}];let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.Lb({type:e}),e.\u0275inj=m.Kb({imports:[[i.j.forChild(L)],i.j]}),e})();const I=[n.b,r.h,c.v,r.p,i.j.forChild([{path:"",component:O}]),p.c,P.b,_],R=[];let F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.Lb({type:e}),e.\u0275inj=m.Kb({providers:R,imports:[I]}),e})()}}]);