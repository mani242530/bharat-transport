(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{OkqA:function(t,e,i){"use strict";i.r(e),i.d(e,"ListingPageModule",function(){return G});var n=i("ofXK"),o=i("3Pt+"),s=i("tyNb"),c=i("TEn/"),a=i("mrSG"),r=i("LRne"),b=i("D0XW"),d=i("7o/Q"),l=i("WMd4");class u{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new h(t,this.delay,this.scheduler))}}class h extends d.a{constructor(t,e,i){super(t),this.delay=e,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,i=e.queue,n=t.scheduler,o=t.destination;for(;i.length>0&&i[0].time-n.now()<=0;)i.shift().notification.observe(o);if(i.length>0){const e=Math.max(0,i[0].time-n.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(h.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,i=new p(e.now()+this.delay,t);this.queue.push(i),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(l.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(l.a.createComplete()),this.unsubscribe()}}class p{constructor(t,e){this.time=t,this.notification=e}}var m=i("fXoL"),f=i("+hHy"),g=i("I/3d"),P=i("2g2N"),v=i("6NWb"),Q=i("HWWf"),y=i("sYmb");const N=function(t){return["/listing-detail/",t]};function C(t,e){if(1&t&&(m.Qb(0,"ion-item-sliding",22),m.Qb(1,"div",23),m.Qb(2,"div",24),m.Qb(3,"p",25),m.tc(4),m.Pb(),m.Qb(5,"span",26),m.tc(6),m.Pb(),m.Pb(),m.Qb(7,"div",27),m.Qb(8,"div",28),m.Qb(9,"div",29),m.Qb(10,"div"),m.Qb(11,"small",30),m.tc(12),m.bc(13,"translate"),m.Pb(),m.Qb(14,"p",31),m.tc(15),m.Pb(),m.Pb(),m.Pb(),m.Qb(16,"div",29),m.Qb(17,"div"),m.Qb(18,"small",30),m.tc(19),m.bc(20,"translate"),m.Pb(),m.Qb(21,"p",32),m.tc(22),m.Pb(),m.Pb(),m.Pb(),m.Qb(23,"div",29),m.Qb(24,"div"),m.Qb(25,"small",30),m.tc(26),m.bc(27,"translate"),m.Pb(),m.Qb(28,"p",31),m.tc(29),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Ob(30,"fa-icon",33),m.Pb(),m.Pb(),m.Pb()),2&t){const t=e.$implicit;m.gc("routerLink",m.kc(16,N,t.id)),m.Cb(4),m.uc(t.companyName),m.Cb(2),m.wc("",t.firstName," ",t.lastName,""),m.Cb(6),m.uc(m.cc(13,10,"APP.LISTING.LABEL.FIRM_ACTIVITY")),m.Cb(3),m.uc(t.firmActivity),m.Cb(4),m.uc(m.cc(20,12,"APP.LISTING.LABEL.SERVICE_PROVIDING")),m.Cb(3),m.uc(t.serviceProviding),m.Cb(4),m.uc(m.cc(27,14,"APP.LISTING.LABEL.LOCATION")),m.Cb(3),m.uc(t.location)}}function L(t,e){if(1&t&&(m.Qb(0,"ion-list",20),m.rc(1,C,31,18,"ion-item-sliding",21),m.Pb()),2&t){const t=m.ac();m.Cb(1),m.gc("ngForOf",t.companys)}}function w(t,e){1&t&&(m.Qb(0,"ion-item-sliding"),m.Qb(1,"ion-item",20),m.Qb(2,"ion-label"),m.Qb(3,"h3"),m.Ob(4,"ion-skeleton-text",35),m.Pb(),m.Qb(5,"p"),m.Ob(6,"ion-skeleton-text",36),m.Pb(),m.Pb(),m.Pb(),m.Pb())}function I(t,e){if(1&t&&(m.Qb(0,"ion-list",20),m.rc(1,w,7,0,"ion-item-sliding",34),m.Pb()),2&t){const t=m.ac();m.Cb(1),m.gc("ngForOf",t.companys)}}function x(t,e){1&t&&(m.Qb(0,"div",37),m.Qb(1,"span",38),m.tc(2),m.bc(3,"translate"),m.Pb(),m.Pb()),2&t&&(m.Cb(2),m.uc(m.cc(3,1,"APP.LISTING.LOADING")))}function O(t,e){1&t&&(m.Qb(0,"div",39),m.Qb(1,"span"),m.tc(2,"No results found"),m.Pb(),m.Pb())}let A=(()=>{class t{constructor(t,e,i,n,o,s,c){this.modalController=t,this.routerOutlet=e,this.route=i,this.appService=n,this.ngroute=o,this.fbstore=s,this.toastservice=c,this.isLoading=!0,this.noresults=!1,this.isLoading=!0,this.route.queryParams.subscribe(t=>{this.searchParam=t,this.searchContactByLocation(this.searchParam)}),this.selectedVehicleType=this.appService.selectedVehicleType}ngOnInit(){return Object(a.b)(this,void 0,void 0,function*(){})}trackByFn(t,e){return e.id}searchContactByLocation(t){return Object(a.b)(this,void 0,void 0,function*(){try{yield this.fbstore.collection("companys").snapshotChanges().subscribe(e=>{e.filter(e=>e.payload.doc.data().location===t.from||e.payload.doc.data().location===t.to).length>0?(this.noresults=!1,this.companys=e.map(t=>({id:t.payload.doc.id,firstName:t.payload.doc.data().firstName,lastName:t.payload.doc.data().lastName,companyName:t.payload.doc.data().companyName,firmActivity:t.payload.doc.data().firmActivity,serviceProviding:t.payload.doc.data().serviceProviding.toString(),landlineNumber:t.payload.doc.data().landlineNumber,mobileNumber:t.payload.doc.data().mobileNumber,location:t.payload.doc.data().location}))):this.noresults=!0,Object(r.a)(e).pipe(function(t,e=b.a){var i;const n=(i=t)instanceof Date&&!isNaN(+i)?+t-e.now():Math.abs(t);return t=>t.lift(new u(n,e))}(1e3)).subscribe(t=>{this.isLoading=!1})})}catch(e){this.toastservice.showToast(e.message,2e3)}})}}return t.\u0275fac=function(e){return new(e||t)(m.Nb(c.x),m.Nb(c.p),m.Nb(s.a),m.Nb(f.a),m.Nb(s.g),m.Nb(g.a),m.Nb(P.a))},t.\u0275cmp=m.Hb({type:t,selectors:[["app-listing"]],decls:37,vars:20,consts:[[1,"osahan-header-nav","shadow-sm","p-3","d-flex","align-items-center","bg-purple"],[1,"font-weight-normal","mb-0","text-white"],["routerLink","/home",1,"text-purple"],["icon","arrow-left",1,"icofont-rounded-left"],[1,"ml-auto","d-flex","align-items-center"],["size","50",3,"name"],["slot","end"],["icon","bars",1,"icofont-navigation-menu"],["id","content","fullscreen",""],[1,"osahan-listing","p-0","m-0","row","border-top"],[1,"p-2","w-100"],[1,"bg-white","border","border-warning","rounded-1","shadow-sm","p-2"],[1,"row","mx-0","px-1"],[1,"col-6","p-0"],[1,"text-muted","mb-1","f-10","pr-1"],[1,"small","mb-0"],["lines","none",4,"ngIf"],[1,"d-flex","justify-content-center"],["class","spinner-grow d-flex justify-content-center","role","status",4,"ngIf"],["class","d-flex justify-content-center text-danger mt-5",4,"ngIf"],["lines","none"],["class","text-dark px-0 py-0",3,"routerLink",4,"ngFor","ngForOf"],[1,"text-dark","px-0","py-0",3,"routerLink"],[1,"list_item_gird","m-1","bg-white","shadow-sm","listing-item","border-right","p-3"],[1,"tic-div","mb-2"],[1,"mb-0","l-hght-10"],[1,"text-purple","small","text-small"],[1,"d-flex"],[1,"bus_details","w-100"],[1,"d-flex","l-hght-10"],[1,"text-muted","d-block"],[1,"l-hght-10"],[1,"l-hght-20"],["icon","angle-double-right",1,"angle-double-right"],[4,"ngFor","ngForOf"],["animated","",2,"width","30%"],["animated","",2,"width","75%"],["role","status",1,"spinner-grow","d-flex","justify-content-center"],[1,"sr-only"],[1,"d-flex","justify-content-center","text-danger","mt-5"]],template:function(t,e){1&t&&(m.Qb(0,"ion-header"),m.Qb(1,"div",0),m.Qb(2,"h5",1),m.Qb(3,"a",2),m.Ob(4,"fa-icon",3),m.Pb(),m.Qb(5,"ion-title"),m.tc(6),m.bc(7,"translate"),m.Pb(),m.Pb(),m.Qb(8,"div",4),m.Ob(9,"ngx-avatar",5),m.Qb(10,"ion-buttons",6),m.Qb(11,"ion-menu-button"),m.Ob(12,"fa-icon",7),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Qb(13,"ion-content",8),m.Qb(14,"div",9),m.Qb(15,"div",10),m.Qb(16,"div",11),m.Qb(17,"div",12),m.Qb(18,"div",13),m.Qb(19,"small",14),m.tc(20),m.bc(21,"translate"),m.Pb(),m.Qb(22,"p",15),m.tc(23),m.bc(24,"uppercase"),m.Pb(),m.Pb(),m.Qb(25,"div",13),m.Qb(26,"small",14),m.tc(27),m.bc(28,"translate"),m.Pb(),m.Qb(29,"p",15),m.tc(30),m.bc(31,"uppercase"),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.rc(32,L,2,1,"ion-list",16),m.rc(33,I,2,1,"ion-list",16),m.Qb(34,"div",17),m.rc(35,x,4,3,"div",18),m.Pb(),m.rc(36,O,3,0,"div",19),m.Pb()),2&t&&(m.Cb(6),m.uc(m.cc(7,10,"APP.LISTING.TITLE")),m.Cb(3),m.hc("name",e.userName),m.Cb(11),m.uc(m.cc(21,12,"APP.LISTING.LABEL.GOING_FROM")),m.Cb(3),m.uc(m.cc(24,14,e.searchParam.from)),m.Cb(4),m.uc(m.cc(28,16,"APP.LISTING.LABEL.GOING_TO")),m.Cb(3),m.uc(m.cc(31,18,e.searchParam.to)),m.Cb(2),m.gc("ngIf",!e.isLoading),m.Cb(1),m.gc("ngIf",e.isLoading),m.Cb(2),m.gc("ngIf",e.isLoading),m.Cb(1),m.gc("ngIf",e.noresults))},directives:[c.g,s.i,c.z,v.a,c.u,Q.a,c.c,c.n,c.e,n.j,c.l,n.i,c.j,s.h,c.i,c.k,c.t],pipes:[y.c,n.n],styles:[".google-btn[_ngcontent-%COMP%]{border-color:#507cc0;color:#507cc0!important}.fb-btn[_ngcontent-%COMP%], .google-btn[_ngcontent-%COMP%]{background-color:#fff}.fb-btn[_ngcontent-%COMP%]{border-color:#df4930;color:#df4930!important}.sign-or[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:130px;border-top:1px solid #dee2e6}"]}),t})();const _=[{path:"",component:A}];let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.Lb({type:t}),t.\u0275inj=m.Kb({imports:[[s.j.forChild(_)],s.j]}),t})();const k=[n.b,o.h,c.v,s.j.forChild([{path:"",component:A}]),v.c,Q.b,T,y.b],j=[];let G=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.Lb({type:t}),t.\u0275inj=m.Kb({providers:j,imports:[k]}),t})()}}]);