(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{OkqA:function(t,e,i){"use strict";i.r(e),i.d(e,"ListingPageModule",function(){return G});var n=i("ofXK"),o=i("3Pt+"),c=i("tyNb"),s=i("TEn/"),a=i("mrSG"),r=i("LRne"),b=i("D0XW"),l=i("7o/Q"),d=i("WMd4");class u{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new h(t,this.delay,this.scheduler))}}class h extends l.a{constructor(t,e,i){super(t),this.delay=e,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,i=e.queue,n=t.scheduler,o=t.destination;for(;i.length>0&&i[0].time-n.now()<=0;)i.shift().notification.observe(o);if(i.length>0){const e=Math.max(0,i[0].time-n.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(h.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,i=new m(e.now()+this.delay,t);this.queue.push(i),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(d.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(d.a.createComplete()),this.unsubscribe()}}class m{constructor(t,e){this.time=t,this.notification=e}}var p=i("fXoL"),f=i("+hHy"),g=i("I/3d"),P=i("2g2N"),v=i("6NWb"),Q=i("HWWf"),y=i("sYmb");const N=function(t){return["/listing-detail/",t]};function L(t,e){if(1&t&&(p.Qb(0,"ion-item-sliding",22),p.Qb(1,"div",23),p.Qb(2,"div",24),p.Qb(3,"p",25),p.tc(4),p.Pb(),p.Qb(5,"span",26),p.tc(6),p.Pb(),p.Pb(),p.Qb(7,"div",27),p.Qb(8,"div",28),p.Qb(9,"div",29),p.Qb(10,"div"),p.Qb(11,"small",30),p.tc(12),p.bc(13,"translate"),p.Pb(),p.Qb(14,"p",31),p.tc(15),p.Pb(),p.Pb(),p.Pb(),p.Qb(16,"div",29),p.Qb(17,"div"),p.Qb(18,"small",30),p.tc(19),p.bc(20,"translate"),p.Pb(),p.Qb(21,"p",32),p.tc(22),p.Pb(),p.Pb(),p.Pb(),p.Qb(23,"div",29),p.Qb(24,"div"),p.Qb(25,"small",30),p.tc(26),p.bc(27,"translate"),p.Pb(),p.Qb(28,"p",31),p.tc(29),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Ob(30,"fa-icon",33),p.Pb(),p.Pb(),p.Pb()),2&t){const t=e.$implicit;p.gc("routerLink",p.kc(16,N,t.id)),p.Cb(4),p.uc(t.companyName),p.Cb(2),p.wc("",t.firstName," ",t.lastName,""),p.Cb(6),p.uc(p.cc(13,10,"APP.LISTING.LABEL.FIRM_ACTIVITY")),p.Cb(3),p.uc(t.firmActivity),p.Cb(4),p.uc(p.cc(20,12,"APP.LISTING.LABEL.SERVICE_PROVIDING")),p.Cb(3),p.uc(t.serviceProviding),p.Cb(4),p.uc(p.cc(27,14,"APP.LISTING.LABEL.LOCATION")),p.Cb(3),p.uc(t.location)}}function C(t,e){if(1&t&&(p.Qb(0,"ion-list",20),p.rc(1,L,31,18,"ion-item-sliding",21),p.Pb()),2&t){const t=p.ac();p.Cb(1),p.gc("ngForOf",t.companys)}}function w(t,e){1&t&&(p.Qb(0,"ion-item-sliding"),p.Qb(1,"ion-item",20),p.Qb(2,"ion-label"),p.Qb(3,"h3"),p.Ob(4,"ion-skeleton-text",35),p.Pb(),p.Qb(5,"p"),p.Ob(6,"ion-skeleton-text",36),p.Pb(),p.Pb(),p.Pb(),p.Pb())}function I(t,e){if(1&t&&(p.Qb(0,"ion-list",20),p.rc(1,w,7,0,"ion-item-sliding",34),p.Pb()),2&t){const t=p.ac();p.Cb(1),p.gc("ngForOf",t.companys)}}function x(t,e){1&t&&(p.Qb(0,"div",37),p.Qb(1,"span",38),p.tc(2),p.bc(3,"translate"),p.Pb(),p.Pb()),2&t&&(p.Cb(2),p.uc(p.cc(3,1,"APP.LISTING.LOADING")))}function O(t,e){1&t&&(p.Qb(0,"div",39),p.Qb(1,"span"),p.tc(2),p.bc(3,"translate"),p.Pb(),p.Pb()),2&t&&(p.Cb(2),p.uc(p.cc(3,1,"APP.LISTING.NO_RESULTS")))}let A=(()=>{class t{constructor(t,e,i,n,o,c,s){this.modalController=t,this.routerOutlet=e,this.route=i,this.appService=n,this.ngroute=o,this.fbstore=c,this.toastservice=s,this.isLoading=!0,this.noresults=!1,this.isLoading=!0,this.route.queryParams.subscribe(t=>{this.searchParam=t,this.searchContactByLocation(this.searchParam)}),this.selectedVehicleType=this.appService.selectedVehicleType}ngOnInit(){return Object(a.b)(this,void 0,void 0,function*(){})}trackByFn(t,e){return e.id}searchContactByLocation(t){return Object(a.b)(this,void 0,void 0,function*(){try{yield this.fbstore.collection("companys").snapshotChanges().subscribe(e=>{e.filter(e=>e.payload.doc.data().location===t.from||e.payload.doc.data().location===t.to).length>0?(this.noresults=!1,this.companys=e.map(t=>({id:t.payload.doc.id,firstName:t.payload.doc.data().firstName,lastName:t.payload.doc.data().lastName,companyName:t.payload.doc.data().companyName,firmActivity:t.payload.doc.data().firmActivity,serviceProviding:t.payload.doc.data().serviceProviding.toString(),landlineNumber:t.payload.doc.data().landlineNumber,mobileNumber:t.payload.doc.data().mobileNumber,location:t.payload.doc.data().location}))):this.noresults=!0,Object(r.a)(e).pipe(function(t,e=b.a){var i;const n=(i=t)instanceof Date&&!isNaN(+i)?+t-e.now():Math.abs(t);return t=>t.lift(new u(n,e))}(1e3)).subscribe(t=>{this.isLoading=!1})})}catch(e){this.toastservice.showToast(e.message,2e3),console.log(e.message)}})}}return t.\u0275fac=function(e){return new(e||t)(p.Nb(s.x),p.Nb(s.p),p.Nb(c.a),p.Nb(f.a),p.Nb(c.g),p.Nb(g.a),p.Nb(P.a))},t.\u0275cmp=p.Hb({type:t,selectors:[["app-listing"]],decls:37,vars:20,consts:[[1,"osahan-header-nav","shadow-sm","p-3","d-flex","align-items-center","bg-purple"],[1,"font-weight-normal","mb-0","text-white"],["routerLink","/home",1,"text-purple"],["icon","arrow-left",1,"icofont-rounded-left"],[1,"ml-auto","d-flex","align-items-center"],["size","50",3,"name"],["slot","end"],["icon","bars",1,"icofont-navigation-menu"],["id","content","fullscreen",""],[1,"osahan-listing","p-0","m-0","row","border-top"],[1,"p-2","w-100"],[1,"bg-white","border","border-warning","rounded-1","shadow-sm","p-2"],[1,"row","mx-0","px-1"],[1,"col-6","p-0"],[1,"text-muted","mb-1","f-10","pr-1"],[1,"small","mb-0"],["lines","none",4,"ngIf"],[1,"d-flex","justify-content-center"],["class","spinner-grow d-flex justify-content-center","role","status",4,"ngIf"],["class","d-flex justify-content-center text-danger mt-5",4,"ngIf"],["lines","none"],["class","text-dark px-0 py-0",3,"routerLink",4,"ngFor","ngForOf"],[1,"text-dark","px-0","py-0",3,"routerLink"],[1,"list_item_gird","m-1","bg-white","shadow-sm","listing-item","border-right","p-3"],[1,"tic-div","mb-2"],[1,"mb-0","l-hght-10"],[1,"text-purple","small","text-small"],[1,"d-flex"],[1,"bus_details","w-100"],[1,"d-flex","l-hght-10"],[1,"text-muted","d-block"],[1,"l-hght-10"],[1,"l-hght-20"],["icon","angle-double-right",1,"angle-double-right"],[4,"ngFor","ngForOf"],["animated","",2,"width","30%"],["animated","",2,"width","75%"],["role","status",1,"spinner-grow","d-flex","justify-content-center"],[1,"sr-only"],[1,"d-flex","justify-content-center","text-danger","mt-5"]],template:function(t,e){1&t&&(p.Qb(0,"ion-header"),p.Qb(1,"div",0),p.Qb(2,"h5",1),p.Qb(3,"a",2),p.Ob(4,"fa-icon",3),p.Pb(),p.Qb(5,"ion-title"),p.tc(6),p.bc(7,"translate"),p.Pb(),p.Pb(),p.Qb(8,"div",4),p.Ob(9,"ngx-avatar",5),p.Qb(10,"ion-buttons",6),p.Qb(11,"ion-menu-button"),p.Ob(12,"fa-icon",7),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Qb(13,"ion-content",8),p.Qb(14,"div",9),p.Qb(15,"div",10),p.Qb(16,"div",11),p.Qb(17,"div",12),p.Qb(18,"div",13),p.Qb(19,"small",14),p.tc(20),p.bc(21,"translate"),p.Pb(),p.Qb(22,"p",15),p.tc(23),p.bc(24,"uppercase"),p.Pb(),p.Pb(),p.Qb(25,"div",13),p.Qb(26,"small",14),p.tc(27),p.bc(28,"translate"),p.Pb(),p.Qb(29,"p",15),p.tc(30),p.bc(31,"uppercase"),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.rc(32,C,2,1,"ion-list",16),p.rc(33,I,2,1,"ion-list",16),p.Qb(34,"div",17),p.rc(35,x,4,3,"div",18),p.Pb(),p.rc(36,O,4,3,"div",19),p.Pb()),2&t&&(p.Cb(6),p.uc(p.cc(7,10,"APP.LISTING.TITLE")),p.Cb(3),p.hc("name",e.userName),p.Cb(11),p.uc(p.cc(21,12,"APP.LISTING.LABEL.GOING_FROM")),p.Cb(3),p.uc(p.cc(24,14,e.searchParam.from)),p.Cb(4),p.uc(p.cc(28,16,"APP.LISTING.LABEL.GOING_TO")),p.Cb(3),p.uc(p.cc(31,18,e.searchParam.to)),p.Cb(2),p.gc("ngIf",!e.isLoading),p.Cb(1),p.gc("ngIf",e.isLoading),p.Cb(2),p.gc("ngIf",e.isLoading),p.Cb(1),p.gc("ngIf",e.noresults))},directives:[s.g,c.i,s.z,v.a,s.u,Q.a,s.c,s.n,s.e,n.j,s.l,n.i,s.j,c.h,s.i,s.k,s.t],pipes:[y.c,n.n],styles:[".google-btn[_ngcontent-%COMP%]{border-color:#507cc0;color:#507cc0!important}.fb-btn[_ngcontent-%COMP%], .google-btn[_ngcontent-%COMP%]{background-color:#fff}.fb-btn[_ngcontent-%COMP%]{border-color:#df4930;color:#df4930!important}.sign-or[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:130px;border-top:1px solid #dee2e6}"]}),t})();const T=[{path:"",component:A}];let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.Lb({type:t}),t.\u0275inj=p.Kb({imports:[[c.j.forChild(T)],c.j]}),t})();const k=[n.b,o.h,s.v,c.j.forChild([{path:"",component:A}]),v.c,Q.b,_,y.b],j=[];let G=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.Lb({type:t}),t.\u0275inj=p.Kb({providers:j,imports:[k]}),t})()}}]);