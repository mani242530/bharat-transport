<ion-header>
  <ion-toolbar>
    <div
      class="osahan-header-nav shadow-sm d-flex align-items-center bg-purple"
    >
      <h5 class="font-weight-normal mb-0 text-white mt-5">
        <a class="text-purple" routerLink="/get-started"
          ><fa-icon icon="arrow-left" class="icofont-rounded-left"></fa-icon
        ></a>
        <ion-title>{{ "APP.VERIFICATION.PIN" | translate }}</ion-title>
      </h5>
    </div>
    <ion-progress-bar
      *ngIf="showProgress"
      color="warning"
      type="indeterminate"
    ></ion-progress-bar>
  </ion-toolbar>
</ion-header>

<ion-content id="content" fullscreen>
  <!-- <cdk-virtual-scroll-viewport
    class="scroll-viewport"
    #scroll
    itemSize="80"
    minBufferPx="900"
    maxBufferPx="1350"
  > -->
  <div
    class="osahan-index bg-c align-items-center justify-content-center index-page"
  >
    <div class="osahan-form px-3 py-5 text-center mb-5">
      <div class="row my-3 px-3 pb-2">
        <p class="a-o-i text-muted">
          {{ "APP.VERIFICATION.ENTER_PIN_CODE" | translate }}
        </p>
        <div class="col px-1">
          <ng-otp-input
            #ngOtpInput
            (onInputChange)="onPinChange($event)"
            *ngIf="showPinComponent"
            [config]="config"
            class="form-control otp text-purple form-control-lg text-center pb-0 px-0"
          ></ng-otp-input>
          <!-- <ion-input
            #Field1
            (keyup)="gotoNextField(Field2)"
            class="form-control otp text-purple form-control-lg text-center pb-0 px-0 otp-textbox"
          ></ion-input>
          <ion-input
            #Field2
            (keyup)="gotoNextField(Field3)"
            class="form-control otp text-purple form-control-lg text-center pb-0 px-0 otp-textbox"
          ></ion-input>
          <ion-input
            #Field3
            (keyup)="gotoNextField(Field4)"
            class="form-control otp text-purple form-control-lg text-center pb-0 px-0 otp-textbox"
          ></ion-input>
          <ion-input
            #Field4
            (keyup)="gotoNextField(Field5)"
            class="form-control otp text-purple form-control-lg text-center pb-0 px-0 otp-textbox"
          ></ion-input>
          <ion-input
            #Field5
            (keyup)="gotoNextField(Field6)"
            class="form-control otp text-purple form-control-lg text-center pb-0 px-0 otp-textbox"
          ></ion-input>
          <ion-input
            #Field6
            (keyup)="finishFunction()"
            class="form-control otp text-purple form-control-lg text-center pb-0 px-0 otp-textbox"
          ></ion-input> -->
        </div>
        <div class="osahan-signin text-center p-1" *ngIf="userEntryFlag">
          <p class="a-o-i text-muted p-2 mt-2">
            Please enter default PIN '0000' to verify and update PIN in your
            profile settings.
          </p>
        </div>
      </div>
      <button
        type="submit"
        name="submit_button"
        class="btn btn-purple btn-block osahanbus-btn mb-4 mt-4"
        [disabled]="!pinVerified"
        (click)="verifyPin()"
      >
        {{ "APP.VERIFICATION.BUTTON.VERIFICATION" | translate }}
      </button>

      <div class="d-flex justify-content-center pt-3 m-5" *ngIf="errorPinMsg">
        <span class="text-danger">OOPs! Please enter valid PIN.</span>
      </div>
      <div
        class="d-flex justify-content-center pt-3 m-5"
        *ngIf="pinNotVerified"
      >
        <span class="text-danger"
          >Sorry! Entered PIN is not correct. Please try again</span
        >
      </div>

      <div
        class="sign-or d-flex align-items-center justify-content-center mt-4 mb-2"
      >
        <hr class="mr-4" />
        <p class="text-muted font-bold text-center py-2 m-0">OR</p>
        <hr class="ml-4" />
      </div>
      <div class="osahan-signin text-center font-bold text-purple p-1">
        <p class="m-0">
          Forgot PIN ?
          <a routerLink="/reset-pin" class="text-orange font-bold ml-2"
            >Reset</a
          >
        </p>
      </div>
    </div>
  </div>
</ion-content>
